= Home Assistant
Thomas Stütz
1.0.0, {docdate}
ifndef::imagesdir[:imagesdir: images]
:icons: font
:sectnums:    // Nummerierung der Überschriften / section numbering
// :toc:
// :toclevels: 1
:experimental:
//https://gist.github.com/dcode/0cfbf2699a1fe9b46ff04c41721dda74?permalink_comment_id=3948218
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

== HassOS installieren

* https://wiki.odroid.com/getting_started/petitboot/os_installation_using_otg#petitboot_setup_odroid[Petitboot setup(ODROID)^]
* https://magazine.odroid.com/article/os-installation-using-petitboot-and-usb-otg/[OS Installation using Petitboot and USB OTG^]

//--

=== Odroid mit petitboot starten

* connect ethernet, keyboard and hdmi
* Taster auf SPI umschalten (links)
* Odroid mit Netzgerät einschalten

IMPORTANT: Niemals das emmc-Modul entfernen oder einstecken, wenn der odroid eingeschalten ist. Es könnte ein Hardware Defekt auftreten.

image::N2-OS-installation-using-Petitboot-figure-1.jpg[]


* Exit to shell

image::N2-OS-installation-using-Petitboot-figure-2.jpg[]

* Den Odroid in den *USB mass storage mode* versetzen

----
ls /dev/mmc*
ums /dev/mmcblk0
----

* USB-Kabel anschließen

image::N2-OS-installation-using-Petitboot-figure-4.jpg[]

=== emmc flashen

.Etcher
[%collapsible]
====

image::etcher-01.png[]
image::etcher-02.png[]
image::etcher-03.png[]
image::etcher-04.png[]
image::etcher-05.png[]
image::etcher-06.png[]
image::etcher-07.png[]


====


== Add-Ons

=== Samba share

[source,yaml]
----
username: leo01
password: passme
workgroup: WORKGROUP
compatibility_mode: false
veto_files:
  - ._*
  - .DS_Store
  - Thumbs.db
  - icon?
  - .Trashes
allow_hosts:
  - 10.0.0.0/8
  - 172.16.0.0/12
  - 192.168.0.0/16
  - fe80::/10
----

=== mosquitto broker

[source,yaml]
----
logins: []
require_certificate: false
certfile: fullchain.pem
keyfile: privkey.pem
customize:
  active: false
  folder: mosquitto
----

=== vsFTPD

[source,yaml]
----
banner: Welcome to the Hass.io FTP service.
certfile: fullchain.pem
data_port: 20
implicit_ssl: false
keyfile: privkey.pem
max_clients: 5
pasv: true
pasv_address: ""
pasv_max_port: 30010
pasv_min_port: 30000
port: 21
ssl: false
users:
  - addons: true
    allow_chmod: true
    allow_dirlist: true
    allow_download: true
    allow_upload: true
    backup: true
    config: true
    media: true
    password: passme
    share: true
    ssl: false
    username: leo01
----


== Restore eines Backups

=== Neuen User anlegen

image::create-user.png[]







